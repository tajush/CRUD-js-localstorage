<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Member List</title>
</head>

<body>

    <h1>Member List</h1>
    <form id="memberForm">
        <input hidden id="memberIndex"></input>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <label for="age">Age:</label>
        <input type="number" id="age" name="age" required><br><br>

        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required><br><br>

        <button type="submit">Save Member</button>
    </form>

    <button id="clear">Clear storage data</button>

    <h2>Members:</h2>
    <ul id="memberList"></ul>

    <script>
        document.getElementById('clear').addEventListener('click', function () {
            localStorage.removeItem('members');
            displayMembers();
        });

        document.getElementById('memberForm').addEventListener('submit', function (event) {
            event.preventDefault();

            // Get form values
            const name = document.querySelector('#name').value;
            const email = document.getElementById('email').value;
            const age = document.getElementById('age').value;
            const address = document.getElementById('address').value;
            const memberIndex = document.getElementById('memberIndex').value;

            // Get existing members from localStorage
            let members = JSON.parse(localStorage.getItem('members')) || [];
            if (memberIndex) {
                // Edit existing member
                members[memberIndex] = { name, email, age, address };
            } else {
                // Add new member
                const member = { name, email, age, address };
                members.push(member);
            }

            // Save updated array to localStorage
            localStorage.setItem('members', JSON.stringify(members));

            // Update member list display
            displayMembers();

            // Clear form
            document.getElementById('memberForm').reset();
            // document.getElementById('memberIndex').value = '';
        });

        function displayMembers() {
            const memberList = document.getElementById('memberList');
            memberList.innerHTML = '';

            // Get members from localStorage
            const members = JSON.parse(localStorage.getItem('members')) || [];

            // Create list items for each member
            members.forEach((member, index) => {
                const li = document.createElement('li');
                li.textContent = `Name: ${member.name}, Email: ${member.email}, Age: ${member.age}, Address: ${member.address}`;

                // Add edit button
                const editButton = document.createElement('button');
                editButton.textContent = 'Edit';
                editButton.addEventListener('click', () => {
                    editMember(index);
                });
                li.appendChild(editButton);

                // Add delete button
                const deleteButton = document.createElement('button');
                deleteButton.textContent = 'Delete';
                deleteButton.addEventListener('click', () => {
                    deleteMember(index);
                });
                li.appendChild(deleteButton);

                memberList.appendChild(li);
            });
        }

        function editMember(index) {
            const members = JSON.parse(localStorage.getItem('members')) || [];
            const member = members[index];
            console.log(members[index])

            // Populate form with member data
            document.getElementById('name').value = member.name;
            document.getElementById('email').value = member.email;
            document.getElementById('age').value = member.age;
            document.getElementById('address').value = member.address;
            // document.getElementById('memberIndex').value = index;
            
        }

        function deleteMember(index) {
            let members = JSON.parse(localStorage.getItem('members')) || [];
            members.splice(index, 1);
            localStorage.setItem('members', JSON.stringify(members));
            displayMembers();
        }

        // Display members on page load
        displayMembers();
    </script>

</body>

</html>


 -->



<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Member List</title>
</head>

<body>

    <h1>Member List</h1>
    <form id="memberForm">
        <input type="hidden" id="memberIndex"></input>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <label for="age">Age:</label>
        <input type="number" id="age" name="age" required><br><br>

        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required><br><br>

        <button type="submit">Save Member</button>
    </form>

    <button id="clear">Clear storage data</button>

    <h2>Members:</h2>
    <ul id="memberList"></ul>

    <script>
        // Clear local storage
        document.getElementById('clear').addEventListener('click', function () {
            localStorage.removeItem('members');
            displayMembers();
        });

        // Handle form submission
        document.getElementById('memberForm').addEventListener('submit', function (event) {
            event.preventDefault();

            // Get form values
            const name = document.querySelector('#name').value;
            const email = document.getElementById('email').value;
            const age = document.getElementById('age').value;
            const address = document.getElementById('address').value;
            const memberIndex = document.getElementById('memberIndex').value;

            // Get existing members from localStorage
            let members = JSON.parse(localStorage.getItem('members')) || [];

            if (memberIndex !== '') {
                // Edit existing member
                members[memberIndex] = { name, email, age, address };
            } else {
                // Add new member
                const member = { name, email, age, address };
                members.push(member);
            }

            // Save updated array to localStorage
            localStorage.setItem('members', JSON.stringify(members));

            // Update member list display
            displayMembers();

            // Clear form
            document.getElementById('memberForm').reset();
            document.getElementById('memberIndex').value = '';
        });

        // Display members from local storage
        function displayMembers() {
            const memberList = document.getElementById('memberList');
            memberList.innerHTML = '';

            // Get members from localStorage
            const members = JSON.parse(localStorage.getItem('members')) || [];

            // Create list items for each member
            members.forEach((member, i) => {
                const li = document.createElement('li');
                li.textContent = `Name: ${member.name}, Email: ${member.email}, Age: ${member.age}, Address: ${member.address}`;

                // Add edit button
                const editButton = document.createElement('button');
                editButton.textContent = 'Edit';
                editButton.addEventListener('click', () => {
                    editMember(i);
                });
                li.appendChild(editButton);

                // Add delete button
                const deleteButton = document.createElement('button');
                deleteButton.textContent = 'Delete';
                deleteButton.addEventListener('click', () => {
                    deleteMember(i);
                });
                li.appendChild(deleteButton);

                memberList.appendChild(li);
            });
        }

        // Edit member and populate form with the data
        function editMember(i) {

            const members = JSON.parse(localStorage.getItem('members')) || [];
            const member = members[i];

            // Populate form with member data
            document.getElementById('name').value = member.name;
            document.getElementById('email').value = member.email;
            document.getElementById('age').value = member.age;
            document.getElementById('address').value = member.address;
            document.getElementById('memberIndex').value = i;  // Set the index to track which member is being edited
        }

        // Delete member from the list
        function deleteMember(i) {
            let members = JSON.parse(localStorage.getItem('members')) || [];
            members.splice(i, 1); // Remove member from the array
            localStorage.setItem('members', JSON.stringify(members)); // Save updated array
            displayMembers(); // Update the displayed list
        }

        // Display members on page load
        displayMembers();
    </script>

</body>

</html>




